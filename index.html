<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,700;1,400;1,500&display=swap" rel="stylesheet">

  <meta name="google-site-verification" content="bp17ZMMcxtn5L5oLVwxKnieVmkvLPAt4E6MJJFGgFQY" />

  <title>
    Arvig Chat Survey
  </title>

  <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
  <script google.script.run.getInput();></script>


  <style>
    body
    {
      background-color: #C1D63E;
      font-family: 'Roboto', sans-serif;
      text-align: center;
      width: 100%;
      height: 100%;
      margin: 0;
      padding: 0;
    }

    .navbar {
      background: #1d1060;
      border-radius: 4px 4px 0px 0px;
      width: 100%;
      height: 10px;
      margin: 0px;
      color: #fff;
      padding-bottom: 40px;

    }

    h3 {
      padding: 10px;
      margin: 0;
    }

    h4 {
      margin: 5px 0px 0px 0px;
    }

    .container {
      background-color: #fff;
    }

    form {
      background-color: #fff;
      max-height: 460px;
      max-width: 300px;
      margin-top: 0px;
      margin: 0;
      padding-left: 10px;
      border-radius: 0px 4px;
      padding: 0;
      box-shadow: 2px 5px 10px #404040;
    }

    .inputForm {
      padding: 10px 10px 10px 10px;
    }

    .justify-content-between{
      padding-left: 10px;
    }


    .form-control {
      text-align: left;
      padding-bottom: 10px;

    }

    label {
      padding-left: 10px;
    }

    .form-control label {
      display: block;
      color: #1D1060;
      margin-bottom: 10px;
    }

    /* Styling form-control input,
        select, textarea */
    .form-control input,
    .form-control select,
      {
      font-size: 18pt;
      font-family: inherit;
      padding: 10px;
      margin: 0 auto;
      display: block;
      width: 95%;
    }

    .form-control input[type="radio"] {
      display: inline-block;
      width: auto;
    }

    button {
      background-color: #C1D63E;
      margin: auto;
      border: none;
      border-radius: 4px;
      font-family: inherit;
      font-size: 21px;
      display: block;
      width: 80%;
      box-shadow: 2px 5px 10px rgba(0, 0, 0, 0.5);
    }
  </style>
</head>

<body>
<div class="container d-flex h-100"
  <form enctype="multipart/form-data" id="surveyform" style="margin:auto;">
    <div class="navbar">
      <h3>Arvig Chat Survey</h3>
    </div>

    <h4>Please rate your experience,<br>with 1=Least satisfied<br>and 5=Most satisfied</h4>
    <div class="inputForm">
      <div class="form-control">
        <!-- <!<input type="hidden" id="agentEmail" value=agentEmail /> -->
        <!-- <input type="text" id="agentEmail" value="first.last@arvig.com" /> -->
        <!-- <input type="hidden" id="agentName" value="Beth" /> -->

      </div>

      <div class="form-control">
        <label>
          Friendliness
        </label>
        <div class="justify-content-between">
          <input type="radio" name="friendliness" value="1">1</input>
          <input type="radio" name="friendliness" value="2">2</input>
          <input type="radio" name="friendliness" value="3">3</input>
          <input type="radio" name="friendliness" value="4">4</input>
          <input type="radio" name="friendliness" value="5">5</input>
        </div><br>
        <div class="form-control">
          <label>
            Knowledge
          </label>
          <div class="justify-content-between">
            <!-- Input Type Radio Button -->
            <input type="radio" name="knowledge" value="1">1</input>
            <input type="radio" name="knowledge" value="2">2</input>
            <input type="radio" name="knowledge" value="3">3</input>
            <input type="radio" name="knowledge" value="4">4</input>
            <input type="radio" name="knowledge" value="5">5</input>
          </div><br>
          <div class="form-control">
            <label>
              Responsiveness
            </label>
            <div class="justify-content-between">
              <input type="radio" name="responsiveness" value="1">1</input>
              <input type="radio" name="responsiveness" value="2">2</input>
              <input type="radio" name="responsiveness" value="3">3</input>
              <input type="radio" name="responsiveness" value="4">4</input>
              <input type="radio" name="responsiveness" value="5">5</input>
            </div><br>

            <div class="form-control">
              <label>
                Overall
              </label>
              <div class="justify-content-between">
                <input type="radio" name="overall" value="1">1</input>
                <input type="radio" name="overall" value="2">2</input>
                <input type="radio" name="overall" value="3">3</input>
                <input type="radio" name="overall" value="4">4</input>
                <input type="radio" name="overall" value="5">5</input>
              </div>
            </div>
          </div>
          <button id="submit" onclick="submitSurvey()" value="submit">
            Submit
          </button>
        </div>
  </form>
</div>

  <script>
    // get agents email
    // // var five9URL = "https://app-scl.five9.com/clients/agent/main.html?role=Agent#agent/home";
    // function queryHome() {
    //   var agentName = "";
    //   var email = "";
    //   fetch("https://app-scl.five9.com/clients/agent/main.html?role=Agent#agent/home")
    //     .then(res => res.text())
    //     .then((responseText) => {
    //       const query = document.getElementById("message-container-agent");
    //       // const agentInfo = document.getElementsByClassName("message-container-agent");
    //       const agentName = query.getElementsByClassName("origin").textContent;
    //       // const name = query.getElementsByClassName("name")[0].textContent;
    //       // const email = query.getElementsByClassName("email")[0].textContent;
    //       // console.log(name, email);
    //     })
    // }
    // queryHome();


    function submitSurvey(timestamp) {
      const now = new Date();
      // var msec = Date.parse(now);
      var year = now.getFullYear();
      var month = now.getMonth() + 1;
      var day = now.getDate();
      var hour = now.getHours();
      var minutes = now.getMinutes();
        minutes =('0' + minutes).slice(-2);
      var seconds = now.getSeconds();
        seconds =('0' + seconds).slice(-2);

      const timeStamp = year + '/' +  month  + '/' + day  + ' ' + hour + ':' + minutes + ':'+seconds;


      const form = document.getElementById('surveyform');
      var agentName = 'Beth';
      // var agentEmail = document.getElementById('agentEmail').value;
      var friendliness = form.querySelector('input[name=friendliness]:checked');
      var knowledge = form.querySelector('input[name=knowledge]:checked');
      var responsiveness = form.querySelector('input[name=responsiveness]:checked');
      var overall = form.querySelector('input[name=overall]:checked');

      // console.log(timeStamp + ' ' + agentName + ' ' + friendliness.value + knowledge.value + responsiveness.value + overall.value);

      var surveyData = {
        timeStamp: timeStamp,
        agentName: agentName,
        friendliness: friendliness.value,
        knowledge: knowledge.value,
        responsiveness: responsiveness.value,
        overall: overall.value
      };

      // alert("Here is your API Data: " + surveyData);



      // const url = 'https://script.google.com/a/macros/arvig.com/s/AKfycbwYtJgQw2-AMtLjd6WWsWSDTpVbGDn82fZljDlKv64mmT8Tf-cAyI9Fjr2axy1RYHpnHQ/exec';
      //
      // fetch(url, {
      //     method: 'POST',
      //       cache: 'no-cache',
      //       mode: 'no-cors',
      //       headers: {
      //         'Content-Type': 'application/json',
      //       },
      //       body: JSON.stringify(surveyData)
      //   }).then(function(resp) {
      //
      //     // Return the response as JSON
      //     return resp.json();
      //
      // }).then(function(data) {
      //
      //
      //   console.log(data);
      //
      //   return data;
      //
      // }).catch(function(err) {
      //
      //     // Log any errors
      //     // console.log('Something went wrong!');
      //
      // });

}



  </script>

</body>

</html>
